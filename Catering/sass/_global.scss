/****************************************
*
* Global stylesheet
*
*****************************************/
body {
  /*&:before {
    content: 'std screen i.e. 1200 and up';
    position: fixed;
    z-index: 10000;
    top:0;
  }*/
}

.fixed-width-content {
  max-width:$constrainedWidth;
  padding: 0;
  margin: 0 auto;
}

.flexible-content {
  margin: 0 3vw;
}

.max-width-content {
  max-width:$constrainedWidth;
  padding: 0 15px;
  margin: 0 auto;
}

.abs-content {
  position: absolute;
  top: 0;
  left: 0;
}

.image-block {
  overflow: hidden;
  padding: 0;
}

.flex-item {

  &:not(:last-child) {
    margin-right: 30px;
  }
}

.flex-row {

  &:not(:last-child) {
    margin-bottom: 30px;
  }
}

.orange-bg {
  background-color: $brandPrimary;
  color: $white;
}

.top-nav nav {

  nav {

  }

  .burger-menu {
    position: absolute;
    right: 30px;
    top: 10px;
    width: 44px;
    height: 34px;
    border: 1px solid #fff;
    border-radius: 4px;
    background-color: transparent;
    background-image: none;
    outline: none;
    z-index: 10000;

    .icon-bar {
      display: block;
      width: 26px;
      height: 2px;
      border-radius: 1px;
      background-color: $black;
      margin: 5px;
    }
  }
}

body {

  .page-wrapper {
    position: relative;
  }

  .canvas {
    position: relative!important;
  }

  section {
    width: 100%;
    //min-height: 605px; //TO DO temp remove this
    overflow: hidden;
    margin-top: 30px;

    &.hero {
      margin-top: 0;
    }
  }

  & > header {
    height: 97px;
    //border-bottom: 1px solid silver; //TO DO temp remove this
    overflow: visible;

  }

  .brand-logo {
    position: absolute;
    top: 21px;
    left:55px;
    z-index: 2;
    display: block;
    width: 149px;
    height: 162px;
    background: transparent url("#{$pathToImages}/Catering-Logo.png") 0 0 no-repeat;
    background-size: 149px 162px;
    text-indent: -100000px;
  }

  &.homepage {

    .hero {
      height: 605px;
      position: absolute;
      top: 97px;
      left: 0;
      overflow: hidden;

      .hero-img {
        width: 100%;
        min-height: 605px;
        object-fit: cover;
        filter: brightness(0.60);
      }

      .social {
        position: absolute;
        z-index: 2;
        top:27px;
        right:25px;
        width: 170px;
        height:70px;

        a {
          display: inline-block;
          color: $white;
          margin-right: 16px;

          .fa {
            @include font-size(30);
          }

          &:nth-child(4){
            margin-right: 0;
          }
        }

        p {
          color: $white;
          text-align: right;
          @include font-size(18);

          a {
            text-decoration: underline;
            margin: 0;
          }
        }
      }

      .hero-content {
        color: $white;
        width: 100%;
        //max-width: 1200px;
        padding: 0 36px;
        height: 100%;

        h1 {
          width: 100%;
          position: absolute;
          top:306px;
          left:50px;

          .subhead {
            margin-top: -3px;
            display: block;
            @include font-size(30);
          }
        }

        .find-out-more {
          position: absolute;
          left: 50px;
          top: 442px;
        }

        .go-down {
          @include centerH;
          bottom: 40px;
          display: block;
          width:25px;
          height:15px;
          background: transparent url("#{$pathToImages}/down-chevron.png") 0 0 no-repeat;
          background-size: 25px 15px;
        }
      }
    }

    .hero {

      & + section {
        margin-top: 645px;
      }
    }

  }

  &.subpage{

    .hero {
      height: 200px;
      position: absolute;
      top: 97px;
      left: 0;
      overflow: hidden;

      .hero-img {
        width: 100%;
        min-height: 200px;
        object-fit: cover;
        filter: brightness(0.60);
      }

      .hero-content {
        color: $white;
        width: 100%;
        height: 100%;

        h1 {
          width: 800px;
          @include centerer;
          @include font-size(45);
          font-weight: $regular;
          text-align: center;
        }
      }
    }

    .hero {

      & + section {
        margin-top: 241px;
      }
    }
  }

  .intro {

    .intro-content {

      .inner {
        @include font-size(24);
        font-weight: $light;
        padding:52px 150px 80px;
        text-align: center;

        p {
          line-height: 35px;
        }
      }
    }
  }

  .feature-tiles {

    .tile-container {
      @include flex-container(row, flex-start);
      flex-wrap: wrap;

      .tile {
        position: relative;
        display: block;
        width: 33.333%;
        height: 400px;
        transition: all 0.5s ease-in-out;

        &:hover {

          .tile-inner {

            .content {
              opacity: 0;
              transition: all 0.5s ease-in-out;
            }

            .content-over {
              opacity: 1;
              height:100%;
              transition: all 0.5s ease-in-out;
            }
          }
        }

        .tile-inner {
          display: block;
          position: absolute;
          left:0;
          top:0;
          width: 100%;
          height:100%;
          color: $white;

          div {
            position: absolute;
            top: 0;
            left:0;
            height:100%;
            width:100%;
          }
        }

        .content {
          opacity: 1;
          height: 100%;
          transition: all 0.5s ease-in-out;

          h2 {
            @include font-size(30);
            @include centerH;
            bottom: 107px;
            width: 185px;
            text-align: center;
          }


        }

        .content-over {
          opacity: 0;
          height: 0;
          overflow: hidden;
          padding: 80px 50px 0;
          transition: all 0.5s ease-in-out;

          p {
            @include font-size(24);
            line-height: 27px;
            font-weight: $light;
            text-align: center;
          }

          .find-out-more {
            @include centerH;
            bottom: 80px;
          }
        }
      }
    }
  }

  .slider {
    height: 609px;

    .content {
      height:inherit;
    }

    .flexslider {
      height:inherit;

      .slides {
        height:inherit;

        .slide {
          height:inherit;

          .slide-content {
            height:inherit;
            position: relative;

            img {
              filter: brightness(0.70);

              &.slide-content-img {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                //height: 100%;
              }
            }

            .inner-content {
              position: absolute;
              left: 150px;
              top: 250px;
              width: 84%;
              height: 52%;

              h2 {
                width:70%;
                color: $white;
              }

              .find-out-more {
                position: absolute;
                bottom: 100px;
                left:0;
              }
            }
          }
        }
      }
    }
  }

  .connect {
    height: auto;

    & > div {
      height:inherit;
    }

    .connect-content {
      @include flex-container(row, flex-start);
      background-color: $brandSecondary;
      flex-wrap: wrap;

      .flex-item {
        margin-right: 0;
      }

      & > div {
        height: auto;
      }

      .main-heading {
        color: $white;
        width: 100%;
        margin: 60px 0 70px;
        text-align: center;
      }

      .connect-details {
        width: 33.333%;
        color: $white;
        padding: 0 3vw 30px 8.333vw;

        h2 {
          @include font-size(33);
          margin-bottom: 22px;
        }

        h3 {
          @include font-size(20);
          margin-bottom: 22px;
        }

        p {
          @include font-size(18);
          font-weight: $light;
          margin-bottom: 33px;

          span {
            display: block;
          }
        }
      }

      .contact-form {
        width: 66.666%;
        padding-right: 2.5vw;

        form {
          height:263px;
          @include flex-container(column, space-between);
          flex-wrap: wrap;

          &.contact-form {
            width: 100%;
            padding: 0;
          }

          & > div {
            width: 30.5vw;
          }

          .form-item,
          .form-actions {
            overflow: hidden;

            &:not(:nth-child(even)) {
              margin-right: 1.583vw;
            }

            input,
            select,
            textarea {
              width: 98%;
              height: 50px;
              border: 2px solid $white;
              @include border-radius(6px);
              background-color: transparent;
              margin-bottom: 36px;
              color: $white;
              @include font-size(20);
              outline: none;

              &::placeholder {
                text-align: center;
                //line-height: 50px;
                color: $white;
              }

              &[type=submit] {
                background-color: $white;
                color: $brandSecondary;
                transition: all, 0.5s ease-in-out;

                &:hover {
                  color: $white;
                  background-color: $brandSecondary;
                }
              }
            }
            textarea {
              padding-top: 9px;
              height: 136px;
              margin-bottom: 30px;
            }

            select {
              padding: 0 20px;

              option {
                background-color: $brandSecondary;
              }
            }
          }
        }
      }

      .map-wrapper {
        width: 790px;

        .map {
          height: 100%;
        }
      }
    }
  }

  .quotes {

    .quotes-content {
      @include flex-container();

      .quote-block {
        width: 790px;

        .inner {
          color: $brandPrimary;

          &.quotes {
            padding: 150px 110px 0;

            p {
              position: relative;
              display: inline;
              padding-right: 45px;
              @include font-size(23);
              font-weight: $regular;

              &:before {
                content: '';
                position: absolute;
                display: block;
                width: 30px;
                height:30px;
                left:0;
                top:-45px;
                background: transparent url("#{$pathToImages}/orange-open-quotes.png") 0 0 no-repeat;
              }

              &:after {
                content: '';
                position: absolute;
                display: block;
                width: 30px;
                height:30px;
                right:0;
                bottom: -10px;
                background: transparent url("#{$pathToImages}/orange-close-quotes.png") 0 0 no-repeat;
              }
            }
          }

          &.byline {
            padding: 10px 110px 0;
            font-weight: $light;

            p {
              color: black;
              @include font-size(18);
            }
          }
        }

        &.orange-bg {

          .inner {

            p {
              color: $white;
            }

            &.quotes {

              p {

                &:before {
                  background-image: url("#{$pathToImages}/white-open-quotes.png");
                }

                &:after {
                  background-image: url("#{$pathToImages}/white-close-quotes.png");
                }
              }
            }

            &.byline {

              p {
                //color: $black;
              }
            }
          }
        }
      }

      .image-block {
        width: 380px;
      }
    }
  }

  .feature-links {

    .feature-links-content {
      @include flex-container();

      .link-box {
        width: 29.666vw;
        overflow: hidden;

        .link-box-link {
          text-decoration: none;
        }

        img {
          transition: all, 0.5s ease-in-out;
          width: 100%;
        }

        &:hover {

          img {
            transform: scale(1.1);
          }
        }

        h3  {
          position: relative;
          z-index: 2;
          height: 88px;
          @include font-size(30);
          line-height: 88px;
          font-weight: $regular;
          text-align: center;
          color: $white;
        }

        &:not(:last-child) {
          //margin-right: 30px;
        }

        &:nth-child(1) {
          h3 {
            background-color: $brandSecondary;
          }
        }

        &:nth-child(2) {
          h3 {
            background-color: $brandPrimary;
          }
        }

        &:nth-child(3) {
          h3 {
            background-color: $brandQuaternary;
          }
        }
      }
    }
  }

  .feature-block {

    .feature-block-content {
      @include flex-container();

      .text-block {
        width:380px;

        .inner {
          padding:60px 40px 0;

          p {
            @include font-size(18);
            font-weight: $light;
            padding:0;
          }
        }

        .find-out-more {
          margin:30px 40px;
        }
      }

      .image-block {
        width:790px;
      }
    }
  }

  .event-list {

    .event-list-content {

      .inner {

        h3 {
          padding:15px;
          @include font-size(18);
          font-weight: $bold;
          color: $brandPrimary;
        }

        p {

          &.info {
            padding: 0 15px;
            @include font-size(18);
            font-weight: $regular;
            color: $brandPrimary;

            & + p {

              &.info {
                margin-top: -1rem;
              }
            }
          }
        }

        p {
          @include font-size(20);
          font-weight: $regular;

          &.static-copy {
            position: absolute;
            bottom: 36px;
            font-weight: $semiBold;
          }
        }

        a {

          &.find-out-more {
            position: absolute;
            bottom: 20px;
            left: 15px;
          }
        }
      }

    }
  }

  .feature-list {

    .content {

      h2 {
        margin-bottom: 20px;
        @include font-size(33);
        font-weight: $regular;
        text-align: center;
        color: $brandPrimary;
      }

      ul {
        @include flex-container();
        list-style: none;
        flex-wrap: wrap;
        padding: 0;
        margin-bottom: -30px;

        & > li {
          width: calc((100% - 60px) / 3);
          margin-bottom: 30px;

          &.flex-item {

            &:nth-child(3n+3){
              margin-right:0;
            }
          }

          .inner {
            overflow: hidden;
            position: relative;
            @include fill-container;
            background-color: $lt-grey;
            padding-bottom: 100px;

            img {
              width: 100%;
            }

            .wysiwyg {
              padding: 0 15px;
            }
          }
        }
      }
    }
  }

  .staff-list {

    .staff-list-content {

      .staff-block {

        .inner {
          padding-bottom: 30px;

          & > h3 {
            padding: 0 15px;
            margin-top: 20px;
            @include font-size(30);
            font-weight: $regular;
          }

          & > p {
            padding: 0 15px;
            @include font-size(30);
            font-weight: $regular;
            color: $brandPrimary;
          }
        }
      }
    }
  }

  .animals-list {

    .animals-list-content {

      .animals-block {

        .inner {
          padding-bottom: 30px;

          & > h3 {
            padding: 0 15px;
            margin-top: 20px;
            @include font-size(30);
            font-weight: $regular;
            color: $brandPrimary;
          }

          & > p {
            padding: 0 15px;
            @include font-size(30);
            font-weight: $regular;
            color: $brandPrimary;
          }
        }
      }
    }
  }

  .twin-image {

    .twin-image-content {
      @include flex-container();

      .image-block {
        width: 48.75%;
        margin-right: 2.5%;
      }

      .video-block {
        width: 48.75%;
      }
    }
  }

  .video-container {
    width: 48.75%;
    position: relative;
    padding-bottom: 30.89%;
    padding-top: 30px;
    height: 0;
    overflow: hidden;
  }

  .video-container iframe,
  .video-container object,
  .video-container embed {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .single-image {

    img {
      width: 100%;
      object-fit: cover;
    }
  }

  .triple-image {

    .triple-image-content {
      @include flex-container();

      .image-block {
        width: 55.416vw;

        img {
          width: 100%;
          object-fit: cover;
        }
      }
    }
  }

  .single-col-text {

    .single-col-text-content {

      .text-block {
        text-align: center;
        padding: 0 15px;

        h2 {
          @include font-size(33);
          font-weight: $regular;
          color: $brandPrimary;
        }

        h3 {
          font-weight: $semiBold;
          @include font-size(18);
          color: $brandPrimary;
        }

        p {
          text-align: center;
        }
      }
    }
  }

  .two-col-text {

    .two-col-text-content {
      @include flex-container();

      .text-block {
        width: 48.75vw;
        padding: 0 15px;

        h2 {
          @include font-size(33);
          font-weight: $regular;
          color: $brandPrimary;
        }

        h3 {
          font-weight: $semiBold;
          @include font-size(18);
          color: $brandPrimary;
        }
      }

      .image-block {
        width: 48.75vw;

        img {
          width: 100%;
          object-fit: cover;
        }
      }
    }
  }

  .uneven-cols {

    .uneven-cols-content {
      @include flex-container();

      .text-block {
        padding:0 15px;

        &.col-5-of-12 {
          width: 39.583vw;
        }

        &.col-7-of-12 {
          width: 55.416vw;
        }

        &.grey-bg {
          background-color: $lt-grey;
          padding:25px;
        }
      }
    }
  }

  .booking-form {
    background-color: $brandPrimary;
    min-height: 400px; //TODO: remove

    .booking-form-content {

      h2 {
        margin: 50px 0;
        color: $white;
        text-align: center;
        @include font-size(30);
        font-weight: $regular;
      }

      .form-wrapper {

        .privacy-policy {
          @include font-size(12);
          color: $white;
          margin: -15px 0 0 821px;

          a {
            display: inline;
            color: $white;
            text-decoration: underline;
          }
        }
      }

      form {
        @include flex-container(column, flex-start);
        flex-wrap: wrap;
        max-height: 300px;

        .form-item,
        .form-actions {
          display: table-cell;
          vertical-align: middle;
          height: 80px;
          width:50%;
          padding: 0 15px;

          &:nth-child(n+4) {

            label {
              padding-left: 15px;
            }
          }

          label {
            display: inline-block;
            height:auto;
            margin: 0;
            @include font-size(24);
            line-height: 1;
            font-weight: $regular;
            color: $white;
            width: 35%;
            vertical-align: middle;
          }

          input {
            height:50px;
            width:64.3%;
            padding:0 10px;
            background-color: transparent;
            border:2px solid  $white;
            @include border-radius(8px);
            outline: none;
            color: $white;
            @include font-size(24);
            vertical-align: middle;

            &[type=submit] {
              color: $black;
              background-color: $white;
              margin-left: 204px;
              transition: all 0.5s ease-in-out;

              &:hover {
                color: $white;
                background-color: transparent;
              }
            }
          }
        }
      }
    }
  }

  .two-col,
  .one-col {

    .two-col-content,
    .one-col-content {
      @include flex-container();

      .col {
        width: 585px;
        padding: 0;
      }

      .flex-col {
        @include flex-container(column, flex-start);
      }

      .form-wrapper {
        @include fill-container;
        background-color: $brandPrimary;
        min-height: 770px; //TODO: remove?
        padding: 15px;

        h2 {
          @include font-size(33);
          font-weight: $regular;
          color: $white;
          text-align: center;
        }

        .privacy-policy {
          @include font-size(12);
          color: $white;
          margin: 0 25px;

          a {
            display: inline;
            color: $white;
            text-decoration: underline;
          }
        }

        form {
          @include flex-container(column, flex-start);
          flex-wrap: wrap;
          //max-height: 300px;

          fieldset,
          .form-item,
          .form-actions {
            margin: 10px 0;
            height: auto;
            min-height: 0;
            width:100%;
            padding: 0 25px;

            .fieldset-wrapper {
              @include flex-container();
              justify-content: flex-start;

              & > div,
              div {
                @include flex-container();
                flex-wrap: wrap;

                &.form-item {
                  //min-width: 100px;
                  width: auto;
                  padding: 0;
                  justify-content: flex-start;

                  input {
                    height:20px;
                    width:40px;
                    margin-top: 3px;
                  }
                  label {
                    display: inline-block;
                    width: auto;
                    margin: 0 20px 0 10px;
                  }
                }
              }
            }

            legend,
            label {
              display: inline-block;
              height:auto;
              margin: 10px 0;
              @include font-size(24);
              line-height: 1;
              font-weight: $regular;
              color: $white;
              //width: 35%;
              vertical-align: middle;
            }

            input {
              height:50px;
              width:100%;
              padding:0 10px;
              background-color: transparent;
              border:2px solid  $white;
              @include border-radius(8px);
              outline: none;
              color: $white;
              @include font-size(24);
              vertical-align: middle;

              &[type=submit] {
                width: 40%;
                color: $black;
                background-color: $white;
                transition: all 0.5s ease-in-out;

                &:hover {
                  color: $white;
                  background-color: transparent;
                }
              }

              &[type=checkbox] {
                height: 20px;
                width: 40px;
              }
            }

            textarea {
              height:150px;
              width:100%;
              padding:0 10px;
              background-color: transparent;
              border:2px solid  $white;
              @include border-radius(8px);
              outline: none;
              color: $white;
              @include font-size(18);
            }
          }
        }
      }
    }
  }

  footer {
    margin-top: 30px;
    min-height:240px;
    background-color: $brandQuaternary;
    color:$white;

    .sticky-footer {

      &.fixed {
        position: fixed;
        width:100%;
        bottom: 0;
        z-index: 100;
        //background-color: $accentBlue;
      }
    }

    .footer-top-row {
      height: 65px;
      background-color: $dk-grey;

      .content {
        @include flex-container(row, space-between);
        max-height: 65px;
        padding:16px 0;

        & > div {
          width: 50%;
        }

        .social {
          grid-area: social;
          width: 170px;
          margin-left: 15px;
          @include flex-container();
          justify-content: flex-start;

          a {
            display: inline-block;
            color: $white;
            margin-right: 16px;

            .fa {
              @include font-size(30);
            }

            &:nth-child(4) {
              margin-right: 0;
            }
          }

          p {
            color: $white;
            text-align: right;
            @include font-size(18);

            a {
              text-decoration: underline;
              margin: 0;
            }
          }
        }

        .sign-up {

          .inner {
            text-align: right;
          }

          a {

            &.sign-up {
              @include font-size(18);
              margin: 0 30px 0 0;
              text-align: right;
              position: relative;
              top: -5px;
            }
          }
        }
      }
    }

    .footer-grid {

      &.footer-content {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        grid-template-rows: 100px;
        grid-template-areas:
        "footer-nav copyright logos";
        height: inherit;
        margin-top: 75px;
      }
    }

    .cell {
      position: relative;
    }



    .footer-nav {
      grid-area: footer-nav;
      nav {

        ul {
          margin: 43px 0 0 15px;
          @include flex-container(row, flex-start);
          list-style: none;
          padding: 0;

          li {
            padding:0 10px;

            &:nth-child(1){
              padding-left: 0;
            }

            &:not(:last-child) {
              border-right: 1px solid;
            }

            a {
              @include font-size(16);
              font-weight: $light;
              color: $white;
            }
          }
        }
      }
    }

    .copyright {
      grid-area: copyright;
      @include font-size(16);
      font-weight: $light;
      text-align: center;

      p {
        margin-top: 43px;
      }
    }

    .logos {
      grid-area: logos;
      @include flex-container();
      justify-content: flex-end;

      .wf-logo {
        position: absolute;
        bottom: 40px;
        right: 30px;
        display: block;
        width: 103px;
        height: 57px;
        background: transparent url("#{$pathToImages}/Waltham-Forest-logo.png");
        background-size: 103px 57px;
      }

      .traded-services-logo {
        position: absolute;
        bottom: 40px;
        left: 30px;
        display: block;
        width: 173px;
        height: 38px;
        background: transparent url("#{$pathToImages}/traded-services-logo.png");
        background-size: 173px 38px;
        //margin-left: 118px;
      }

    }
  }
}

